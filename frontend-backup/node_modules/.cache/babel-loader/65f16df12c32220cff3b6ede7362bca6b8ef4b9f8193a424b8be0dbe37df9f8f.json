{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/myrandathompson/Desktop/Capstone/project3/stacked/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{Component}from'react';import Header from'./Header';import styled from'styled-components';import Input from'./input';import BlueButton from'./BlueButton';import axios from'axios';import{Navigate}from'react-router-dom';import UserContext from'./UserContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\npadding: 30px 20px;\\n\"])));const ErrorBox=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\npadding:30px\\n\"])));class SignupPage extends Component{constructor(props){super(props);this.state={email:'',password:'',redirectToHomepage:false};}signup(){axios.post('http://localhost:3001/signup',{email:this.state.email,password:this.state.password},{withCredentials:true}).then(()=>{this.context.checkAuth().then(()=>{this.setState({error:false,redirectToHomepage:true});});}).catch(error=>{this.setState({error:error.response.data});});}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.redirectToHomepage&&/*#__PURE__*/_jsx(Navigate,{to:'/'}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{style:{marginBottom:'20px'},children:\"Signup\"}),this.state.error&&/*#__PURE__*/_jsx(ErrorBox,{children:this.state.error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:Event=>this.signup(Event),children:[/*#__PURE__*/_jsx(Input,{placeholder:'email',type:\"email\",value:this.state.email,onChange:Event=>this.setState({email:Event.target.value})}),/*#__PURE__*/_jsx(Input,{placeholder:'password',type:\"password\",value:this.state.password,autocomplete:'new-password',onChange:ev=>this.setState({password:ev.target.value})}),/*#__PURE__*/_jsx(BlueButton,{onClick:()=>this.signup(),children:\"Signup\"})]})]})]});}}SignupPage.contextType=UserContext;export default SignupPage;","map":{"version":3,"names":["React","Component","Header","styled","Input","BlueButton","axios","Navigate","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","ErrorBox","_templateObject2","SignupPage","constructor","props","state","email","password","redirectToHomepage","signup","post","withCredentials","then","context","checkAuth","setState","error","catch","response","data","render","children","to","style","marginBottom","onSubmit","Event","placeholder","type","value","onChange","target","autocomplete","ev","onClick","contextType"],"sources":["/Users/myrandathompson/Desktop/Capstone/project3/stacked/frontend/src/pages/signupPage.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from './Header';\nimport styled from 'styled-components';\nimport Input from './input';\nimport BlueButton from './BlueButton';\nimport axios from 'axios';\nimport { Navigate } from 'react-router-dom';\nimport UserContext from './UserContext';\n\nconst Container = styled.div`\npadding: 30px 20px;\n`;\n\nconst ErrorBox = styled.div`\npadding:30px\n`;\n\nclass SignupPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      redirectToHomepage: false,\n    };\n  }\n\n  signup() {\n    \n    axios.post(\n        'http://localhost:3001/signup', \n        {\n          email: this.state.email,\n          password: this.state.password,\n        },\n        { withCredentials: true })\n      \n      .then(() => {\n        this.context.checkAuth().then(() => {\n          this.setState({error:false, redirectToHomepage: true});\n\n        })\n        \n      })\n      .catch((error) => {\n        this.setState({error: error.response.data});\n        \n      });\n  }\n\n \n  render() {\n    return(<>\n    {this.state.redirectToHomepage && (\n      <Navigate to={'/'} />\n    )}\n      <Container>\n        <Header style={{ marginBottom: '20px' }}>Signup</Header>\n        {this.state.error && (\n          <ErrorBox>{this.state.error}</ErrorBox>\n        )}\n        <form onSubmit={Event => this.signup(Event)}>\n          <Input placeholder={'email'} type=\"email\" value={this.state.email}\n          onChange={Event => this.setState({email:Event.target.value})} />\n          <Input placeholder={'password'} type=\"password\" value={this.state.password}\n          autocomplete={'new-password'}\n          onChange={ev => this.setState({ password:ev.target.value})} />\n          <BlueButton onClick={() => this.signup()}>Signup</BlueButton>\n        </form>\n        </Container>\n        </>\n    )};}\n\nSignupPage.contextType = UserContext;\n\nexport default SignupPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}