{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/myrandathompson/Desktop/Capstone/project3/stacked/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{Component}from'react';import Header from'./Header';import styled from'styled-components';import Input from'./input';import BlueButton from'./BlueButton';import axios from'axios';import{Navigate}from'react-router-dom';import UserContext from'./UserContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\npadding: 30px 20px;\\n\"])));class LoginPage extends Component{constructor(props){super(props);this.state={email:'',password:''};}login(){axios.post('http://localhost:3001/login',{email:this.state.email,password:this.state.password},{withCredentials:true}).then(()=>{this.context.checkAuth().then(()=>{this.setState({redirectToHomepage:true});});});}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.redirectToHomepage&&/*#__PURE__*/_jsx(Navigate,{to:'/'}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{style:{marginBottom:'20px'},children:\"Login\"}),/*#__PURE__*/_jsx(Input,{placeholder:'email',type:\"email\",value:this.state.email,onChange:ev=>this.setState({email:ev.target.value})}),/*#__PURE__*/_jsx(Input,{placeholder:'password',type:\"password\",value:this.state.password,onChange:ev=>this.setState({password:ev.target.value})}),/*#__PURE__*/_jsx(BlueButton,{onClick:()=>this.login(),children:\"Login\"})]})]});}}LoginPage.contextType=UserContext;export default LoginPage;","map":{"version":3,"names":["React","Component","Header","styled","Input","BlueButton","axios","Navigate","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","LoginPage","constructor","props","state","email","password","login","post","withCredentials","then","context","checkAuth","setState","redirectToHomepage","render","children","to","style","marginBottom","placeholder","type","value","onChange","ev","target","onClick","contextType"],"sources":["/Users/myrandathompson/Desktop/Capstone/project3/stacked/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from './Header';\nimport styled from 'styled-components';\nimport Input from './input';\nimport BlueButton from './BlueButton';\nimport axios from 'axios';\nimport { Navigate } from 'react-router-dom';\nimport UserContext from './UserContext';\n\n\n\nconst Container = styled.div`\npadding: 30px 20px;\n`;\n\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n        }\n    }\n    login() {        \n        axios.post('http://localhost:3001/login', {\n        email: this.state.email,\n        password: this.state.password,\n      }, {\n        withCredentials: true,\n      })\n      .then(() => {\n        this.context.checkAuth()\n        .then(() => {\n          this.setState({ redirectToHomepage: true });\n        });\n      });\n      \n      \n    }\n    \n    render() {\n        return (<>\n        {this.state.redirectToHomepage && (\n            <Navigate to={'/'} />\n        )}\n        <Container>\n            <Header style={{marginBottom: '20px'}}>Login</Header>\n            <Input placeholder={'email'} type=\"email\" value={this.state.email}\n            onChange={ev => this.setState({email:ev.target.value})} />\n            <Input placeholder={'password'} type=\"password\" value={this.state.password}\n            onChange={ev => this.setState({password:ev.target.value})} />\n            <BlueButton onClick={() => this.login()}>Login</BlueButton>\n        </Container>\n        </>);\n    }\n}\nLoginPage.contextType = UserContext;\n\nexport default LoginPage;"],"mappings":"2LAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAIxC,KAAM,CAAAC,SAAS,CAAGZ,MAAM,CAACa,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,+BAE3B,CAGD,KAAM,CAAAC,SAAS,QAAS,CAAAlB,SAAU,CAC9BmB,WAAWA,CAACC,KAAK,CAAE,CACf,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CACTC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CACL,CACAC,KAAKA,CAAA,CAAG,CACJnB,KAAK,CAACoB,IAAI,CAAC,6BAA6B,CAAE,CAC1CH,KAAK,CAAE,IAAI,CAACD,KAAK,CAACC,KAAK,CACvBC,QAAQ,CAAE,IAAI,CAACF,KAAK,CAACE,QACvB,CAAC,CAAE,CACDG,eAAe,CAAE,IACnB,CAAC,CAAC,CACDC,IAAI,CAAC,IAAM,CACV,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,CAAC,CACvBF,IAAI,CAAC,IAAM,CACV,IAAI,CAACG,QAAQ,CAAC,CAAEC,kBAAkB,CAAE,IAAK,CAAC,CAAC,CAC7C,CAAC,CAAC,CACJ,CAAC,CAAC,CAGJ,CAEAC,MAAMA,CAAA,CAAG,CACL,mBAAQrB,KAAA,CAAAE,SAAA,EAAAoB,QAAA,EACP,IAAI,CAACZ,KAAK,CAACU,kBAAkB,eAC1BtB,IAAA,CAACH,QAAQ,EAAC4B,EAAE,CAAE,GAAI,CAAE,CACvB,cACDvB,KAAA,CAACG,SAAS,EAAAmB,QAAA,eACNxB,IAAA,CAACR,MAAM,EAACkC,KAAK,CAAE,CAACC,YAAY,CAAE,MAAM,CAAE,CAAAH,QAAA,CAAC,OAAK,CAAQ,CAAC,cACrDxB,IAAA,CAACN,KAAK,EAACkC,WAAW,CAAE,OAAQ,CAACC,IAAI,CAAC,OAAO,CAACC,KAAK,CAAE,IAAI,CAAClB,KAAK,CAACC,KAAM,CAClEkB,QAAQ,CAAEC,EAAE,EAAI,IAAI,CAACX,QAAQ,CAAC,CAACR,KAAK,CAACmB,EAAE,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CAAE,CAAC,cAC1D9B,IAAA,CAACN,KAAK,EAACkC,WAAW,CAAE,UAAW,CAACC,IAAI,CAAC,UAAU,CAACC,KAAK,CAAE,IAAI,CAAClB,KAAK,CAACE,QAAS,CAC3EiB,QAAQ,CAAEC,EAAE,EAAI,IAAI,CAACX,QAAQ,CAAC,CAACP,QAAQ,CAACkB,EAAE,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CAAE,CAAC,cAC7D9B,IAAA,CAACL,UAAU,EAACuC,OAAO,CAAEA,CAAA,GAAM,IAAI,CAACnB,KAAK,CAAC,CAAE,CAAAS,QAAA,CAAC,OAAK,CAAY,CAAC,EACpD,CAAC,EACV,CAAC,CACP,CACJ,CACAf,SAAS,CAAC0B,WAAW,CAAGrC,WAAW,CAEnC,cAAe,CAAAW,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}